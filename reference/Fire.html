<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate a New App Object — Fire • fiery</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a New App Object — Fire"><meta name="description" content="The Fire generator creates a new Fire-object, which is the class containing
all the app logic. The class is based on the R6 OO-system and
is thus reference-based with methods and data attached to each object, in
contrast to the more well known S3 and S4 systems. A fiery server is event
driven, which means that it is build up and manipulated by adding event
handlers and triggering events. To learn more about the fiery event model,
read the event vignette.
fiery servers can be modified directly or by attaching plugins. As with
events, plugins has its own vignette.
Initialization


A new 'Fire'-object is initialized using the new() method on the generator:

app &amp;lt;- Fire$new(host = '127.0.0.1', port = 8080L)






Copying


As Fire objects are using reference semantics new copies of an app cannot
be made simply be assigning it to a new variable. If a true copy of a Fire
object is desired, use the clone() method.

"><meta property="og:description" content="The Fire generator creates a new Fire-object, which is the class containing
all the app logic. The class is based on the R6 OO-system and
is thus reference-based with methods and data attached to each object, in
contrast to the more well known S3 and S4 systems. A fiery server is event
driven, which means that it is build up and manipulated by adding event
handlers and triggering events. To learn more about the fiery event model,
read the event vignette.
fiery servers can be modified directly or by attaching plugins. As with
events, plugins has its own vignette.
Initialization


A new 'Fire'-object is initialized using the new() method on the generator:

app &amp;lt;- Fire$new(host = '127.0.0.1', port = 8080L)






Copying


As Fire objects are using reference semantics new copies of an app cannot
be made simply be assigning it to a new variable. If a true copy of a Fire
object is desired, use the clone() method.

"><meta property="og:image" content="https://fiery.data-imaginist.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fiery</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/events.html">The event cycle</a></li>
    <li><a class="dropdown-item" href="../articles/delayed.html">Delaying code execution</a></li>
    <li><a class="dropdown-item" href="../articles/plugins.html">Creating and using plugins</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Demos</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.data-imaginist.com/2017/setting-fire-to-deployment/">Fiery on Heroku</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Release notes</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.data-imaginist.com/2017/when-a-fire-starts-to-burn/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Change log</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://reqres.data-imaginist.com">reqres</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://routr.data-imaginist.com">routr</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/thomasp85/fiery"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generate a New App Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/fiery/blob/main/R/Fire.R" class="external-link"><code>R/Fire.R</code></a></small>
      <div class="d-none name"><code>Fire.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The Fire generator creates a new <code>Fire</code>-object, which is the class containing
all the app logic. The class is based on the <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> OO-system and
is thus reference-based with methods and data attached to each object, in
contrast to the more well known S3 and S4 systems. A <code>fiery</code> server is event
driven, which means that it is build up and manipulated by adding event
handlers and triggering events. To learn more about the <code>fiery</code> event model,
read the <a href="https://fiery.data-imaginist.com/articles/events.html">event vignette</a>.
<code>fiery</code> servers can be modified directly or by attaching plugins. As with
events, <a href="https://fiery.data-imaginist.com/articles/plugins.html">plugins has its own vignette</a>.</p><div class="section">
<h3 id="initialization">Initialization<a class="anchor" aria-label="anchor" href="#initialization"></a></h3>


<p>A new 'Fire'-object is initialized using the <code>new()</code> method on the generator:</p>
<table class="table table"><tr><td><code>app &lt;- Fire$new(host = '127.0.0.1', port = 8080L)</code></td></tr></table></div>

<div class="section">
<h3 id="copying">Copying<a class="anchor" aria-label="anchor" href="#copying"></a></h3>


<p>As <code>Fire</code> objects are using reference semantics new copies of an app cannot
be made simply be assigning it to a new variable. If a true copy of a <code>Fire</code>
object is desired, use the <code>clone()</code> method.</p>
</div>

    </div>


    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>host</code></dt>
<dd><p>A string giving a valid IPv4 address owned by the server, or <code>'0.0.0.0'</code> to listen on all addresses. The default is <code>'127.0.0.1'</code></p></dd>


<dt><code>port</code></dt>
<dd><p>An integer giving the port number the server should listen on (defaults to <code>8080L</code>)</p></dd>


<dt><code>refresh_rate</code></dt>
<dd><p>The interval in seconds between run cycles when running a blocking server (defaults to <code>0.001</code>)</p></dd>


<dt><code>refresh_rate_nb</code></dt>
<dd><p>The interval in seconds between run cycles when running a non-blocking server (defaults to <code>1</code>)</p></dd>


<dt><code>trigger_dir</code></dt>
<dd><p>A valid folder where trigger files can be put when running a blocking server (defaults to <code>NULL</code>). See the <a href="https://fiery.data-imaginist.com/articles/events.html"><em>The event cycle in fiery</em> vignette</a> for more information.</p></dd>


<dt><code>plugins</code></dt>
<dd><p>A named list of the already attached plugins. <strong>Read Only</strong> - can only be modified using the <code><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach()</a></code> method.</p></dd>


<dt><code>root</code></dt>
<dd><p>The location of the app. Setting this will remove the root value from requests (or decline them with <code>400</code> if the request does not match the root). E.g. the path of a request will be changed from <code>/demo/test</code> to <code>/test</code> if <code>root == '/demo'</code></p></dd>


<dt><code>access_log_format</code></dt>
<dd><p>A <a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a> string defining how requests will be logged. For standard formats see <a href="loggers.html">common_log_format</a> and <a href="loggers.html">combined_log_format</a>. Defaults to the <em>Common Log Format</em></p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Fire-new"><code>Fire$new()</code></a></p></li>
<li><p><a href="#method-Fire-format"><code>Fire$format()</code></a></p></li>
<li><p><a href="#method-Fire-ignite"><code>Fire$ignite()</code></a></p></li>
<li><p><a href="#method-Fire-start"><code>Fire$start()</code></a></p></li>
<li><p><a href="#method-Fire-reignite"><code>Fire$reignite()</code></a></p></li>
<li><p><a href="#method-Fire-resume"><code>Fire$resume()</code></a></p></li>
<li><p><a href="#method-Fire-extinguish"><code>Fire$extinguish()</code></a></p></li>
<li><p><a href="#method-Fire-stop"><code>Fire$stop()</code></a></p></li>
<li><p><a href="#method-Fire-on"><code>Fire$on()</code></a></p></li>
<li><p><a href="#method-Fire-off"><code>Fire$off()</code></a></p></li>
<li><p><a href="#method-Fire-trigger"><code>Fire$trigger()</code></a></p></li>
<li><p><a href="#method-Fire-send"><code>Fire$send()</code></a></p></li>
<li><p><a href="#method-Fire-close_ws_con"><code>Fire$close_ws_con()</code></a></p></li>
<li><p><a href="#method-Fire-serve_static"><code>Fire$serve_static()</code></a></p></li>
<li><p><a href="#method-Fire-exclude_static"><code>Fire$exclude_static()</code></a></p></li>
<li><p><a href="#method-Fire-attach"><code>Fire$attach()</code></a></p></li>
<li><p><a href="#method-Fire-has_plugin"><code>Fire$has_plugin()</code></a></p></li>
<li><p><a href="#method-Fire-header"><code>Fire$header()</code></a></p></li>
<li><p><a href="#method-Fire-set_data"><code>Fire$set_data()</code></a></p></li>
<li><p><a href="#method-Fire-get_data"><code>Fire$get_data()</code></a></p></li>
<li><p><a href="#method-Fire-remove_data"><code>Fire$remove_data()</code></a></p></li>
<li><p><a href="#method-Fire-time"><code>Fire$time()</code></a></p></li>
<li><p><a href="#method-Fire-remove_time"><code>Fire$remove_time()</code></a></p></li>
<li><p><a href="#method-Fire-delay"><code>Fire$delay()</code></a></p></li>
<li><p><a href="#method-Fire-remove_delay"><code>Fire$remove_delay()</code></a></p></li>
<li><p><a href="#method-Fire-async"><code>Fire$async()</code></a></p></li>
<li><p><a href="#method-Fire-remove_async"><code>Fire$remove_async()</code></a></p></li>
<li><p><a href="#method-Fire-set_client_id_converter"><code>Fire$set_client_id_converter()</code></a></p></li>
<li><p><a href="#method-Fire-set_logger"><code>Fire$set_logger()</code></a></p></li>
<li><p><a href="#method-Fire-log"><code>Fire$log()</code></a></p></li>
<li><p><a href="#method-Fire-is_running"><code>Fire$is_running()</code></a></p></li>
<li><p><a href="#method-Fire-test_request"><code>Fire$test_request()</code></a></p></li>
<li><p><a href="#method-Fire-test_header"><code>Fire$test_header()</code></a></p></li>
<li><p><a href="#method-Fire-test_message"><code>Fire$test_message()</code></a></p></li>
<li><p><a href="#method-Fire-test_websocket"><code>Fire$test_websocket()</code></a></p></li>
<li><p><a href="#method-Fire-clone"><code>Fire$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-Fire-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new <code>Fire</code> app</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/Fire.html">Fire</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>host <span class="op">=</span> <span class="st">"127.0.0.1"</span>, port <span class="op">=</span> <span class="fl">8080</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>host</code></dt>
<dd><p>A string overriding the default host</p></dd>


<dt><code>port</code></dt>
<dd><p>An port number overriding the default port</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A <code>Fire</code> object</p>
</div>

</div><p></p><hr><a id="method-Fire-format"></a><div class="section">
<h3 id="method-format-">Method <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code><a class="anchor" aria-label="anchor" href="#method-format-"></a></h3>
<p>Human readable description of the app</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">format</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>ignored</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A character vector</p>
</div>

</div><p></p><hr><a id="method-Fire-ignite"></a><div class="section">
<h3 id="method-ignite-">Method <code>ignite()</code><a class="anchor" aria-label="anchor" href="#method-ignite-"></a></h3>
<p>Begin running the server. Will trigger the <code>start</code> event</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">ignite</span><span class="op">(</span>block <span class="op">=</span> <span class="cn">TRUE</span>, showcase <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span>, silent <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>block</code></dt>
<dd><p>Should the console be blocked while running (alternative is to run in the background)</p></dd>


<dt><code>showcase</code></dt>
<dd><p>Should the default browser open up at the server address</p></dd>


<dt><code>...</code></dt>
<dd><p>Arguments passed on to the <code>start</code> handler</p></dd>


<dt><code>silent</code></dt>
<dd><p>Should startup messaging by silenced</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-start"></a><div class="section">
<h3 id="method-start-">Method <code><a href="https://rdrr.io/r/stats/start.html" class="external-link">start()</a></code><a class="anchor" aria-label="anchor" href="#method-start-"></a></h3>
<p>Synonymous method to <code>ignite()</code></p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">start</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>passed on to <code>ignite()</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-reignite"></a><div class="section">
<h3 id="method-reignite-">Method <code>reignite()</code><a class="anchor" aria-label="anchor" href="#method-reignite-"></a></h3>
<p>Resume a session. This is equivalent to <code>ignite()</code> but will also trigger the <code>resume</code> event</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">reignite</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>passed on to <code>ignite()</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-resume"></a><div class="section">
<h3 id="method-resume-">Method <code>resume()</code><a class="anchor" aria-label="anchor" href="#method-resume-"></a></h3>
<p>Synonymous method to <code>reignite()</code></p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">resume</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>passed on to <code>ignite()</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-extinguish"></a><div class="section">
<h3 id="method-extinguish-">Method <code>extinguish()</code><a class="anchor" aria-label="anchor" href="#method-extinguish-"></a></h3>
<p>Stop the server. Will trigger the <code>end</code> event</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">extinguish</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Fire-stop"></a><div class="section">
<h3 id="method-stop-">Method <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code><a class="anchor" aria-label="anchor" href="#method-stop-"></a></h3>
<p>Synonymous method to <code>extinguish()</code></p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="kw">stop</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Fire-on"></a><div class="section">
<h3 id="method-on-">Method <code>on()</code><a class="anchor" aria-label="anchor" href="#method-on-"></a></h3>
<p>Add a handler to an event. See the <a href="https://fiery.data-imaginist.com/articles/events.html"><em>The event cycle in fiery</em> vignette</a> for more information.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="va">event</span>, <span class="va">handler</span>, pos <span class="op">=</span> <span class="cn">NULL</span>, id <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>event</code></dt>
<dd><p>The name of the event that should trigger the handler</p></dd>


<dt><code>handler</code></dt>
<dd><p>The handler function that should be triggered</p></dd>


<dt><code>pos</code></dt>
<dd><p>The position in the handler stack to place it at. <code>NULL</code> will place it at the end.</p></dd>


<dt><code>id</code></dt>
<dd><p>An optional id to use to identify the handler</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>A unique string identifying the handler (either <code>id</code> or generated for you)</p>
</div>

</div><p></p><hr><a id="method-Fire-off"></a><div class="section">
<h3 id="method-off-">Method <code>off()</code><a class="anchor" aria-label="anchor" href="#method-off-"></a></h3>
<p>Remove an event handler from the app.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">off</span><span class="op">(</span><span class="va">handlerId</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>handlerId</code></dt>
<dd><p>The unique id identifying the handler</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-trigger"></a><div class="section">
<h3 id="method-trigger-">Method <code>trigger()</code><a class="anchor" aria-label="anchor" href="#method-trigger-"></a></h3>
<p>Trigger an event in the app. This will cause any handler attached to the event to be called. See the <a href="https://fiery.data-imaginist.com/articles/events.html"><em>The event cycle in fiery</em> vignette</a> for more information.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">trigger</span><span class="op">(</span><span class="va">event</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>event</code></dt>
<dd><p>The name of the event</p></dd>


<dt><code>...</code></dt>
<dd><p>Arguments passed on to the handlers</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>A named list containing the return values of all handlers attached to the event</p>
</div>

</div><p></p><hr><a id="method-Fire-send"></a><div class="section">
<h3 id="method-send-">Method <code>send()</code><a class="anchor" aria-label="anchor" href="#method-send-"></a></h3>
<p>Send a Websocket message to a client. Will trigger the <code>send</code> event.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">send</span><span class="op">(</span><span class="va">message</span>, <span class="va">id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>message</code></dt>
<dd><p>The message to send</p></dd>


<dt><code>id</code></dt>
<dd><p>The id of the client to send to. If missing, the message will be send to all clients</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-close_ws_con"></a><div class="section">
<h3 id="method-close-ws-con-">Method <code>close_ws_con()</code><a class="anchor" aria-label="anchor" href="#method-close-ws-con-"></a></h3>
<p>Close a Websocket connection. Will trigger the <code>websocket-closed</code> event</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">close_ws_con</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>The id of the client to close the websocket connection to</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-serve_static"></a><div class="section">
<h3 id="method-serve-static-">Method <code>serve_static()</code><a class="anchor" aria-label="anchor" href="#method-serve-static-"></a></h3>
<p>Serve a file or directory of files at a specified url path. Requests matching a file on the system never enters into the request loop but are served directly (and fast). Due to this, logging for these requests are also turned off</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">serve_static</span><span class="op">(</span></span>
<span>  <span class="va">at</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  use_index <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fallthrough <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  html_charset <span class="op">=</span> <span class="st">"utf-8"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  validation <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>at</code></dt>
<dd><p>The url path to listen to requests on</p></dd>


<dt><code>path</code></dt>
<dd><p>The path to the file or directory on the file system</p></dd>


<dt><code>use_index</code></dt>
<dd><p>Should an <code>index.html</code> file be served if present when a client requests the folder</p></dd>


<dt><code>fallthrough</code></dt>
<dd><p>Should requests that doesn't match a file enter the request loop or have a 404 response send directly</p></dd>


<dt><code>html_charset</code></dt>
<dd><p>The charset to report for serving html files</p></dd>


<dt><code>headers</code></dt>
<dd><p>A list of headers to add to the response. Will be combined with the global headers of the app</p></dd>


<dt><code>validation</code></dt>
<dd><p>An optional validation pattern. Presently, the only type of validation supported is an exact string match of a header. For example, if validation is <code>"abc" = "xyz"</code>, then HTTP requests must have a header named <code>abc</code> (case-insensitive) with the value <code>"xyz"</code> (case-sensitive). If a request does not have a matching header, than httpuv will give a 403 Forbidden response. If <code>character(0)</code> (the default), then no validation check will be performed.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-exclude_static"></a><div class="section">
<h3 id="method-exclude-static-">Method <code>exclude_static()</code><a class="anchor" aria-label="anchor" href="#method-exclude-static-"></a></h3>
<p>Exclude a url path from serving static content. Only meaningful to exclude sub paths of path that are set to serve static content</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">exclude_static</span><span class="op">(</span><span class="va">at</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>at</code></dt>
<dd><p>The url path to exclude from static serving. Request to this path will enter the normal request loop</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-attach"></a><div class="section">
<h3 id="method-attach-">Method <code><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach()</a></code><a class="anchor" aria-label="anchor" href="#method-attach-"></a></h3>
<p>Attach a plugin to the app. See the <a href="https://fiery.data-imaginist.com/articles/plugins.html"><em>Creating and using fiery plugins</em> vignette</a> for more information</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="kw">attach</span><span class="op">(</span><span class="va">plugin</span>, <span class="va">...</span>, force <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>plugin</code></dt>
<dd><p>The plugin to attach</p></dd>


<dt><code>...</code></dt>
<dd><p>Arguments to pass into the plugins <code>on_attach()</code> method</p></dd>


<dt><code>force</code></dt>
<dd><p>If the plugin has already been attached an error is thrown, unless <code>force = TRUE</code> which tells the app to reattach it</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-has_plugin"></a><div class="section">
<h3 id="method-has-plugin-">Method <code>has_plugin()</code><a class="anchor" aria-label="anchor" href="#method-has-plugin-"></a></h3>
<p>Check if the app has a plugin attached</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">has_plugin</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name of the plugin</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A boolean indicating if the given plugin is already attached</p>
</div>

</div><p></p><hr><a id="method-Fire-header"></a><div class="section">
<h3 id="method-header-">Method <code>header()</code><a class="anchor" aria-label="anchor" href="#method-header-"></a></h3>
<p>Add a global http header that will be applied to all responses</p><div class="section">
<h4 id="usage-17">Usage<a class="anchor" aria-label="anchor" href="#usage-17"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">header</span><span class="op">(</span><span class="va">name</span>, <span class="va">value</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name of the header</p></dd>


<dt><code>value</code></dt>
<dd><p>The value of the header. Use <code>NULL</code> to remove the global header</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-set_data"></a><div class="section">
<h3 id="method-set-data-">Method <code>set_data()</code><a class="anchor" aria-label="anchor" href="#method-set-data-"></a></h3>
<p>Add data to the global data store</p><div class="section">
<h4 id="usage-18">Usage<a class="anchor" aria-label="anchor" href="#usage-18"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">set_data</span><span class="op">(</span><span class="va">name</span>, <span class="va">value</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-16">Arguments<a class="anchor" aria-label="anchor" href="#arguments-16"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name identifying the data</p></dd>


<dt><code>value</code></dt>
<dd><p>The data to add</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-get_data"></a><div class="section">
<h3 id="method-get-data-">Method <code>get_data()</code><a class="anchor" aria-label="anchor" href="#method-get-data-"></a></h3>
<p>Retrieve data from the global data store</p><div class="section">
<h4 id="usage-19">Usage<a class="anchor" aria-label="anchor" href="#usage-19"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-17">Arguments<a class="anchor" aria-label="anchor" href="#arguments-17"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name identifying the data</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>The data requested. Returns <code>NULL</code> if the store does not contain the requested data</p>
</div>

</div><p></p><hr><a id="method-Fire-remove_data"></a><div class="section">
<h3 id="method-remove-data-">Method <code>remove_data()</code><a class="anchor" aria-label="anchor" href="#method-remove-data-"></a></h3>
<p>Remove data from the global data store</p><div class="section">
<h4 id="usage-20">Usage<a class="anchor" aria-label="anchor" href="#usage-20"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">remove_data</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-18">Arguments<a class="anchor" aria-label="anchor" href="#arguments-18"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>The name identifying the data to be removed</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-time"></a><div class="section">
<h3 id="method-time-">Method <code><a href="https://rdrr.io/r/stats/time.html" class="external-link">time()</a></code><a class="anchor" aria-label="anchor" href="#method-time-"></a></h3>
<p>Add a timed evaluation that will be evaluated after the given number of seconds. See the <a href="https://fiery.data-imaginist.com/articles/delayed.html"><em>Delaying code execution in Fiery</em> vignette</a> for more information</p><div class="section">
<h4 id="usage-21">Usage<a class="anchor" aria-label="anchor" href="#usage-21"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">time</span><span class="op">(</span><span class="va">expr</span>, <span class="va">then</span>, <span class="va">after</span>, loop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-19">Arguments<a class="anchor" aria-label="anchor" href="#arguments-19"></a></h4>
<p></p><div class="arguments"><dl><dt><code>expr</code></dt>
<dd><p>The expression to evaluate when the time has passed</p></dd>


<dt><code>then</code></dt>
<dd><p>A handler to call once <code>expr</code> has been evaluated</p></dd>


<dt><code>after</code></dt>
<dd><p>The time in second to wait before evaluating <code>expr</code></p></dd>


<dt><code>loop</code></dt>
<dd><p>Should <code>expr</code> be called repeatedly with the interval given by <code>after</code></p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>A unique id identifying the handler</p>
</div>

</div><p></p><hr><a id="method-Fire-remove_time"></a><div class="section">
<h3 id="method-remove-time-">Method <code>remove_time()</code><a class="anchor" aria-label="anchor" href="#method-remove-time-"></a></h3>
<p>Remove a timed evaluation</p><div class="section">
<h4 id="usage-22">Usage<a class="anchor" aria-label="anchor" href="#usage-22"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">remove_time</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-20">Arguments<a class="anchor" aria-label="anchor" href="#arguments-20"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>The unique id identifying the handler</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-delay"></a><div class="section">
<h3 id="method-delay-">Method <code>delay()</code><a class="anchor" aria-label="anchor" href="#method-delay-"></a></h3>
<p>Add a delayed evaluation to be evaluated immediately at the end of the loop cycle. See the <a href="https://fiery.data-imaginist.com/articles/delayed.html"><em>Delaying code execution in Fiery</em> vignette</a> for more information</p><div class="section">
<h4 id="usage-23">Usage<a class="anchor" aria-label="anchor" href="#usage-23"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">delay</span><span class="op">(</span><span class="va">expr</span>, <span class="va">then</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-21">Arguments<a class="anchor" aria-label="anchor" href="#arguments-21"></a></h4>
<p></p><div class="arguments"><dl><dt><code>expr</code></dt>
<dd><p>The expression to evaluate at the end of the cycle</p></dd>


<dt><code>then</code></dt>
<dd><p>A handler to call once <code>expr</code> has been evaluated</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>A unique id identifying the handler</p>
</div>

</div><p></p><hr><a id="method-Fire-remove_delay"></a><div class="section">
<h3 id="method-remove-delay-">Method <code>remove_delay()</code><a class="anchor" aria-label="anchor" href="#method-remove-delay-"></a></h3>
<p>Remove a delayed evaluation</p><div class="section">
<h4 id="usage-24">Usage<a class="anchor" aria-label="anchor" href="#usage-24"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">remove_delay</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-22">Arguments<a class="anchor" aria-label="anchor" href="#arguments-22"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>The unique id identifying the handler</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-async"></a><div class="section">
<h3 id="method-async-">Method <code>async()</code><a class="anchor" aria-label="anchor" href="#method-async-"></a></h3>
<p>Add an asynchronous evaluation to be evaluated in another process without blocking the server. See the <a href="https://fiery.data-imaginist.com/articles/delayed.html"><em>Delaying code execution in Fiery</em> vignette</a> for more information</p><div class="section">
<h4 id="usage-25">Usage<a class="anchor" aria-label="anchor" href="#usage-25"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">async</span><span class="op">(</span><span class="va">expr</span>, <span class="va">then</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-23">Arguments<a class="anchor" aria-label="anchor" href="#arguments-23"></a></h4>
<p></p><div class="arguments"><dl><dt><code>expr</code></dt>
<dd><p>The expression to evaluate at the end of the cycle</p></dd>


<dt><code>then</code></dt>
<dd><p>A handler to call once <code>expr</code> has been evaluated</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>A unique id identifying the handler</p>
</div>

</div><p></p><hr><a id="method-Fire-remove_async"></a><div class="section">
<h3 id="method-remove-async-">Method <code>remove_async()</code><a class="anchor" aria-label="anchor" href="#method-remove-async-"></a></h3>
<p>Remove an async evaluation</p><div class="section">
<h4 id="usage-26">Usage<a class="anchor" aria-label="anchor" href="#usage-26"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">remove_async</span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-24">Arguments<a class="anchor" aria-label="anchor" href="#arguments-24"></a></h4>
<p></p><div class="arguments"><dl><dt><code>id</code></dt>
<dd><p>The unique id identifying the handler</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-set_client_id_converter"></a><div class="section">
<h3 id="method-set-client-id-converter-">Method <code>set_client_id_converter()</code><a class="anchor" aria-label="anchor" href="#method-set-client-id-converter-"></a></h3>
<p>Sets the function that converts an HTTP request into a specific client id</p><div class="section">
<h4 id="usage-27">Usage<a class="anchor" aria-label="anchor" href="#usage-27"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">set_client_id_converter</span><span class="op">(</span><span class="va">converter</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-25">Arguments<a class="anchor" aria-label="anchor" href="#arguments-25"></a></h4>
<p></p><div class="arguments"><dl><dt><code>converter</code></dt>
<dd><p>A function with the argument <code>request</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-set_logger"></a><div class="section">
<h3 id="method-set-logger-">Method <code>set_logger()</code><a class="anchor" aria-label="anchor" href="#method-set-logger-"></a></h3>
<p>Sets the logging function to use</p><div class="section">
<h4 id="usage-28">Usage<a class="anchor" aria-label="anchor" href="#usage-28"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">set_logger</span><span class="op">(</span><span class="va">logger</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-26">Arguments<a class="anchor" aria-label="anchor" href="#arguments-26"></a></h4>
<p></p><div class="arguments"><dl><dt><code>logger</code></dt>
<dd><p>A function with the arguments <code>event</code>, <code>message</code>, <code>request</code>, and <code>...</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-log"></a><div class="section">
<h3 id="method-log-">Method <code><a href="https://rdrr.io/r/base/Log.html" class="external-link">log()</a></code><a class="anchor" aria-label="anchor" href="#method-log-"></a></h3>
<p>Log a message with the logger attached to the app. See <a href="loggers.html">loggers</a> for build in functionality</p><div class="section">
<h4 id="usage-29">Usage<a class="anchor" aria-label="anchor" href="#usage-29"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">log</span><span class="op">(</span><span class="va">event</span>, <span class="va">message</span>, request <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-27">Arguments<a class="anchor" aria-label="anchor" href="#arguments-27"></a></h4>
<p></p><div class="arguments"><dl><dt><code>event</code></dt>
<dd><p>The event associated with the message</p></dd>


<dt><code>message</code></dt>
<dd><p>The message to log</p></dd>


<dt><code>request</code></dt>
<dd><p>The <code>Request</code> object associated with the message, if any.</p></dd>


<dt><code>...</code></dt>
<dd><p>Additional arguments passed on to the logger.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-is_running"></a><div class="section">
<h3 id="method-is-running-">Method <code>is_running()</code><a class="anchor" aria-label="anchor" href="#method-is-running-"></a></h3>
<p>Test if an app is running</p><div class="section">
<h4 id="usage-30">Usage<a class="anchor" aria-label="anchor" href="#usage-30"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">is_running</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Fire-test_request"></a><div class="section">
<h3 id="method-test-request-">Method <code>test_request()</code><a class="anchor" aria-label="anchor" href="#method-test-request-"></a></h3>
<p>Send a request directly to the request logic of a non-running app. Only intended for testing the request logic</p><div class="section">
<h4 id="usage-31">Usage<a class="anchor" aria-label="anchor" href="#usage-31"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">test_request</span><span class="op">(</span><span class="va">request</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-28">Arguments<a class="anchor" aria-label="anchor" href="#arguments-28"></a></h4>
<p></p><div class="arguments"><dl><dt><code>request</code></dt>
<dd><p>The request to send</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-test_header"></a><div class="section">
<h3 id="method-test-header-">Method <code>test_header()</code><a class="anchor" aria-label="anchor" href="#method-test-header-"></a></h3>
<p>Send a request directly to the header logic of a non-running app. Only intended for testing the request logic</p><div class="section">
<h4 id="usage-32">Usage<a class="anchor" aria-label="anchor" href="#usage-32"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">test_header</span><span class="op">(</span><span class="va">request</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-29">Arguments<a class="anchor" aria-label="anchor" href="#arguments-29"></a></h4>
<p></p><div class="arguments"><dl><dt><code>request</code></dt>
<dd><p>The request to send</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-test_message"></a><div class="section">
<h3 id="method-test-message-">Method <code>test_message()</code><a class="anchor" aria-label="anchor" href="#method-test-message-"></a></h3>
<p>Send a message directly <strong>to</strong> the message logic of a non-running app. Only intended for testing the websocket logic</p><div class="section">
<h4 id="usage-33">Usage<a class="anchor" aria-label="anchor" href="#usage-33"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">test_message</span><span class="op">(</span><span class="va">request</span>, <span class="va">binary</span>, <span class="va">message</span>, withClose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-30">Arguments<a class="anchor" aria-label="anchor" href="#arguments-30"></a></h4>
<p></p><div class="arguments"><dl><dt><code>request</code></dt>
<dd><p>The request to use to establish the connection</p></dd>


<dt><code>binary</code></dt>
<dd><p>Is the message send in binary or character format</p></dd>


<dt><code>message</code></dt>
<dd><p>The message to send. If <code>binary = FALSE</code> a character vector, if <code>binary = TRUE</code> a raw vector</p></dd>


<dt><code>withClose</code></dt>
<dd><p>Should the websocket connection be closed at the end by the client</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-test_websocket"></a><div class="section">
<h3 id="method-test-websocket-">Method <code>test_websocket()</code><a class="anchor" aria-label="anchor" href="#method-test-websocket-"></a></h3>
<p>Send a message directly <strong>from</strong> a non-running app. Only intended for testing the websocket logic</p><div class="section">
<h4 id="usage-34">Usage<a class="anchor" aria-label="anchor" href="#usage-34"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">test_websocket</span><span class="op">(</span><span class="va">request</span>, <span class="va">message</span>, close <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-31">Arguments<a class="anchor" aria-label="anchor" href="#arguments-31"></a></h4>
<p></p><div class="arguments"><dl><dt><code>request</code></dt>
<dd><p>The request to use to establish the connection</p></dd>


<dt><code>message</code></dt>
<dd><p>The message to send from the app</p></dd>


<dt><code>close</code></dt>
<dd><p>Should the websocket connection be closed at the end by the server</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-Fire-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-35">Usage<a class="anchor" aria-label="anchor" href="#usage-35"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Fire</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-32">Arguments<a class="anchor" aria-label="anchor" href="#arguments-32"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a New App</span></span></span>
<span class="r-in"><span><span class="va">app</span> <span class="op">&lt;-</span> <span class="va">Fire</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>port <span class="op">=</span> <span class="fl">4689</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup the data every time it starts</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="st">'start'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">server</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">server</span><span class="op">$</span><span class="fu">set_data</span><span class="op">(</span><span class="st">'visits'</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">server</span><span class="op">$</span><span class="fu">set_data</span><span class="op">(</span><span class="st">'cycles'</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Count the number of cycles</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="st">'cycle-start'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">server</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">server</span><span class="op">$</span><span class="fu">set_data</span><span class="op">(</span><span class="st">'cycles'</span>, <span class="va">server</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="st">'cycles'</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Count the number of requests</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="st">'before-request'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">server</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">server</span><span class="op">$</span><span class="fu">set_data</span><span class="op">(</span><span class="st">'visits'</span>, <span class="va">server</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="st">'visits'</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Handle requests</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="st">'request'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">server</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        status <span class="op">=</span> <span class="fl">200L</span>,</span></span>
<span class="r-in"><span>        headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">'Content-Type'</span> <span class="op">=</span> <span class="st">'text/html'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        body <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">'This is indeed a test. You are number'</span>, <span class="va">server</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="st">'visits'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show number of requests in the console</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="st">'after-request'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">server</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="va">server</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="st">'visits'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/utils/flush.console.html" class="external-link">flush.console</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Terminate the server after 300 cycles</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="st">'cycle-end'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">server</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="kw">if</span> <span class="op">(</span><span class="va">server</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="st">'cycles'</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">300</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">'Ending...'</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/utils/flush.console.html" class="external-link">flush.console</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="va">server</span><span class="op">$</span><span class="fu">extinguish</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Be polite</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">on</span><span class="op">(</span><span class="st">'end'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">server</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">'Goodbye'</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/utils/flush.console.html" class="external-link">flush.console</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">app</span><span class="op">$</span><span class="fu">ignite</span><span class="op">(</span>showcase <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

